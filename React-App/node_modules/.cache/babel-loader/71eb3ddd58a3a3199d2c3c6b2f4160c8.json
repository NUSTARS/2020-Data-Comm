{"ast":null,"code":"var _jsxFileName = \"/Users/Nathan/Desktop/data-comm-ui/src/graph.js\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Chart from \"./chart\"; // import NameForm from \"./ticks\";\n\nconst styles = theme => ({\n  \"chart-container\": {\n    height: 400,\n    // width: 900,\n    overflow: \"hidden\"\n  }\n});\n\nlet updateInterval = 1000;\nlet typeData = \"Live\";\n\nclass Graph extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      meta: {\n        ticks: props.ticks,\n        lab: [],\n        dat: []\n      },\n      lineChartData: {\n        labels: [],\n        datasets: [{\n          type: \"line\",\n          label: typeData,\n          backgroundColor: \"rgba(0, 0, 0, 1)\",\n          borderColor: this.props.theme.palette.primary.main,\n          pointBackgroundColor: this.props.theme.palette.secondary.main,\n          pointBorderColor: this.props.theme.palette.secondary.main,\n          borderWidth: \"2\",\n          lineTension: 0.45,\n          data: []\n        }]\n      },\n      lineChartOptions: {\n        responsive: true,\n        maintainAspectRatio: false,\n        tooltips: {\n          enabled: true\n        },\n        scales: {\n          xAxes: [{\n            ticks: {\n              autoSkip: true,\n              maxTicksLimit: props.ticks\n            }\n          }]\n        },\n        plugins: {\n          zoom: {\n            // Container for pan options\n            pan: {\n              // Boolean to enable panning\n              enabled: true,\n              // Panning directions. Remove the appropriate direction to disable\n              // Eg. 'y' would only allow panning in the y direction\n              // A function that is called as the user is panning and returns the\n              // available directions can also be used:\n              //   mode: function({ chart }) {\n              //     return 'xy';\n              //   },\n              mode: 'xy',\n              rangeMin: {\n                // Format of min pan range depends on scale type\n                x: null,\n                y: null\n              },\n              rangeMax: {\n                // Format of max pan range depends on scale type\n                x: null,\n                y: null\n              },\n              // On category scale, factor of pan velocity\n              speed: 20,\n              // Minimal pan distance required before actually applying pan\n              threshold: 10,\n              // Function called while the user is panning\n              onPan: function ({\n                chart\n              }) {\n                console.log(`I'm panning!!!`);\n              },\n              // Function called once panning is completed\n              onPanComplete: function ({\n                chart\n              }) {\n                console.log(`I was panned!!!`);\n              }\n            },\n            // Container for zoom options\n            zoom: {\n              // Boolean to enable zooming\n              enabled: true,\n              // Enable drag-to-zoom behavior\n              drag: true,\n              // Drag-to-zoom effect can be customized\n              // drag: {\n              // \t borderColor: 'rgba(225,225,225,0.3)'\n              // \t borderWidth: 5,\n              // \t backgroundColor: 'rgb(225,225,225)',\n              // \t animationDuration: 0\n              // },\n              // Zooming directions. Remove the appropriate direction to disable\n              // Eg. 'y' would only allow zooming in the y direction\n              // A function that is called as the user is zooming and returns the\n              // available directions can also be used:\n              //   mode: function({ chart }) {\n              //     return 'xy';\n              //   },\n              mode: 'xy',\n              rangeMin: {\n                // Format of min zoom range depends on scale type\n                x: null,\n                y: null\n              },\n              rangeMax: {\n                // Format of max zoom range depends on scale type\n                x: null,\n                y: null\n              },\n              // Speed of zoom via mouse wheel\n              // (percentage of zoom on a wheel event)\n              speed: 0.1,\n              // Minimal zoom distance required before actually applying zoom\n              threshold: 2,\n              // On category scale, minimal zoom level before actually applying zoom\n              sensitivity: 3,\n              // Function called while the user is zooming\n              onZoom: function ({\n                chart\n              }) {\n                console.log(`I'm zooming!!!`);\n              },\n              // Function called once zooming is completed\n              onZoomComplete: function ({\n                chart\n              }) {\n                console.log(`I was zoomed!!!`);\n              }\n            }\n          }\n        }\n      }\n    };\n    this.updateChart = this.updateChart.bind(this);\n  }\n\n  componentDidMount() {\n    setInterval(this.updateChart, updateInterval);\n  }\n\n  updateChart() {\n    const newDat = this.state.meta.dat;\n    const newLab = this.state.meta.lab;\n    const newNum = Math.round(Math.random() * 100);\n    newDat.push(newNum);\n    newLab.push(this.state.meta.lab.length + 1);\n    const newMeta = {\n      ticks: this.props.ticks,\n      lab: newLab,\n      dat: newDat\n    };\n    this.setState({\n      meta: newMeta\n    });\n    const oldDataSet = this.state.lineChartData.datasets[0];\n    let newDataSet = { ...oldDataSet\n    };\n    newDataSet.data.push(newNum); // if (this.state.meta.ticks !== this.props.ticks) {\n    //   newDataSet.data = newDataSet.data.slice(this.state.meta.ticks > this.state.meta.lab.length ? -this.state.meta.lab.length : -this.state.meta.ticks)\n    // }\n    // else if (newDataSet.data.length > this.state.meta.ticks) {\n    //   newDataSet.data.shift();\n    // }\n\n    const possLabs = this.state.meta.lab;\n    const newChartData = { ...this.state.lineChartData,\n      datasets: [newDataSet],\n      labels: possLabs\n      /*.slice(this.state.meta.ticks > this.state.meta.lab.length ? -this.state.meta.lab.length : -this.state.meta.ticks)*/\n\n    }; // console.log(possLabs.slice(this.state.meta.ticks > this.state.meta.lab.length ? -this.state.meta.lab.length : -this.state.meta.ticks))\n    // console.log(newDataSet.data);\n\n    this.setState({\n      lineChartData: newChartData\n    });\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes[\"chart-container\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Chart, {\n      data: this.state.lineChartData,\n      options: this.state.lineChartOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(Graph);","map":{"version":3,"sources":["/Users/Nathan/Desktop/data-comm-ui/src/graph.js"],"names":["React","withStyles","Chart","styles","theme","height","overflow","updateInterval","typeData","Graph","Component","constructor","props","state","meta","ticks","lab","dat","lineChartData","labels","datasets","type","label","backgroundColor","borderColor","palette","primary","main","pointBackgroundColor","secondary","pointBorderColor","borderWidth","lineTension","data","lineChartOptions","responsive","maintainAspectRatio","tooltips","enabled","scales","xAxes","autoSkip","maxTicksLimit","plugins","zoom","pan","mode","rangeMin","x","y","rangeMax","speed","threshold","onPan","chart","console","log","onPanComplete","drag","sensitivity","onZoom","onZoomComplete","updateChart","bind","componentDidMount","setInterval","newDat","newLab","newNum","Math","round","random","push","length","newMeta","setState","oldDataSet","newDataSet","possLabs","newChartData","render","classes","withTheme"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Chart from \"./chart\";\n// import NameForm from \"./ticks\";\n\nconst styles = theme => ({\n  \"chart-container\": {\n    height: 400,\n    // width: 900,\n    overflow: \"hidden\"\n  }\n});\n\nlet updateInterval = 1000;\nlet typeData = \"Live\";\n\nclass Graph extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      meta: {\n        ticks: props.ticks,\n        lab: [],\n        dat: []\n      },\n      lineChartData: {\n        labels: [],\n        datasets: [\n          {\n            type: \"line\",\n            label: typeData,\n            backgroundColor: \"rgba(0, 0, 0, 1)\",\n            borderColor: this.props.theme.palette.primary.main,\n            pointBackgroundColor: this.props.theme.palette.secondary.main,\n            pointBorderColor: this.props.theme.palette.secondary.main,\n            borderWidth: \"2\",\n            lineTension: 0.45,\n            data: []\n          }\n        ]\n      },\n      lineChartOptions: {\n        responsive: true,\n        maintainAspectRatio: false,\n        tooltips: {\n          enabled: true\n        },\n        scales: {\n          xAxes: [\n            {\n              ticks: {\n                autoSkip: true,\n                maxTicksLimit: props.ticks\n              }\n            }\n          ]\n        },\n        plugins: {\n          zoom: {\n            // Container for pan options\n            pan: {\n              // Boolean to enable panning\n              enabled: true,\n        \n              // Panning directions. Remove the appropriate direction to disable\n              // Eg. 'y' would only allow panning in the y direction\n              // A function that is called as the user is panning and returns the\n              // available directions can also be used:\n              //   mode: function({ chart }) {\n              //     return 'xy';\n              //   },\n              mode: 'xy',\n        \n              rangeMin: {\n                // Format of min pan range depends on scale type\n                x: null,\n                y: null\n              },\n              rangeMax: {\n                // Format of max pan range depends on scale type\n                x: null,\n                y: null\n              },\n        \n              // On category scale, factor of pan velocity\n              speed: 20,\n        \n              // Minimal pan distance required before actually applying pan\n              threshold: 10,\n        \n              // Function called while the user is panning\n              onPan: function({chart}) { console.log(`I'm panning!!!`); },\n              // Function called once panning is completed\n              onPanComplete: function({chart}) { console.log(`I was panned!!!`); }\n            },\n        \n            // Container for zoom options\n            zoom: {\n              // Boolean to enable zooming\n              enabled: true,\n        \n              // Enable drag-to-zoom behavior\n              drag: true,\n        \n              // Drag-to-zoom effect can be customized\n              // drag: {\n              // \t borderColor: 'rgba(225,225,225,0.3)'\n              // \t borderWidth: 5,\n              // \t backgroundColor: 'rgb(225,225,225)',\n              // \t animationDuration: 0\n              // },\n        \n              // Zooming directions. Remove the appropriate direction to disable\n              // Eg. 'y' would only allow zooming in the y direction\n              // A function that is called as the user is zooming and returns the\n              // available directions can also be used:\n              //   mode: function({ chart }) {\n              //     return 'xy';\n              //   },\n              mode: 'xy',\n        \n              rangeMin: {\n                // Format of min zoom range depends on scale type\n                x: null,\n                y: null\n              },\n              rangeMax: {\n                // Format of max zoom range depends on scale type\n                x: null,\n                y: null\n              },\n        \n              // Speed of zoom via mouse wheel\n              // (percentage of zoom on a wheel event)\n              speed: 0.1,\n        \n              // Minimal zoom distance required before actually applying zoom\n              threshold: 2,\n        \n              // On category scale, minimal zoom level before actually applying zoom\n              sensitivity: 3,\n        \n              // Function called while the user is zooming\n              onZoom: function({chart}) { console.log(`I'm zooming!!!`); },\n              // Function called once zooming is completed\n              onZoomComplete: function({chart}) { console.log(`I was zoomed!!!`); }\n            }\n          }\n        }\n      }\n    };\n    this.updateChart = this.updateChart.bind(this);\n  }\n\n  componentDidMount() {\n    setInterval( this.updateChart,\n    updateInterval)\n  }\n\n  updateChart() {\n      const newDat = this.state.meta.dat;\n      const newLab = this.state.meta.lab;\n\n      const newNum = Math.round(Math.random()*100);\n\n      newDat.push(newNum);\n      newLab.push(this.state.meta.lab.length+1);\n\n      const newMeta = {ticks: this.props.ticks, lab: newLab, dat: newDat}\n      this.setState({meta: newMeta})\n\n      const oldDataSet = this.state.lineChartData.datasets[0];\n      let newDataSet = { ...oldDataSet };\n      newDataSet.data.push(newNum);\n      // if (this.state.meta.ticks !== this.props.ticks) {\n      //   newDataSet.data = newDataSet.data.slice(this.state.meta.ticks > this.state.meta.lab.length ? -this.state.meta.lab.length : -this.state.meta.ticks)\n      // }\n      // else if (newDataSet.data.length > this.state.meta.ticks) {\n      //   newDataSet.data.shift();\n      // }\n\n      const possLabs = this.state.meta.lab;\n\n      const newChartData = {\n        ...this.state.lineChartData,\n        datasets: [newDataSet],\n        labels: possLabs/*.slice(this.state.meta.ticks > this.state.meta.lab.length ? -this.state.meta.lab.length : -this.state.meta.ticks)*/\n\n      };\n      // console.log(possLabs.slice(this.state.meta.ticks > this.state.meta.lab.length ? -this.state.meta.lab.length : -this.state.meta.ticks))\n      // console.log(newDataSet.data);\n      this.setState({ lineChartData: newChartData });\n    }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes[\"chart-container\"]}>\n        <Chart\n          data={this.state.lineChartData}\n          options={this.state.lineChartOptions}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Graph);"]},"metadata":{},"sourceType":"module"}