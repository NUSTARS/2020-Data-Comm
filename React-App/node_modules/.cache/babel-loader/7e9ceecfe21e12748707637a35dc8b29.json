{"ast":null,"code":"var _jsxFileName = \"/Users/Nathan/Desktop/data-comm-ui/src/selectPort.js\";\nimport React from 'react';\nimport Select from 'react-select';\nimport Button from '@material-ui/core/Button'; // displayed on SETTINGS PANE\n\nclass SelectPort extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeFunc = selectedOption => {\n      this.setState({\n        selected: selectedOption.value\n      });\n      console.log(selectedOption.value); // TODO:\n      // add selected port to redux store\n      // port dropdown in toolbar\n      // POST selected port to Flask:\n\n      fetch('/selected-port/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          port: selectedOption.value\n        })\n      }).then(response => response.json()).then(data => {\n        console.log('Success:', data);\n      }).catch(error => {\n        console.error('Error:', error);\n      });\n    };\n\n    this.state = {\n      ports: [],\n      selected: ''\n    };\n  }\n\n  componentDidMount() {\n    fetch('/ports/').then(res => res.json()).then(data => {\n      var options = [];\n      data.ports.forEach(port => options.push({\n        value: port,\n        label: port\n      }));\n      this.setState({\n        ports: options\n      });\n    }, []);\n  } // componentDidUpdate() {\n  // }\n\n\n  getPorts() {\n    fetch('/ports/').then(res => res.json()).then(data => {\n      var options = [];\n      data.ports.forEach(port => options.push({\n        value: port,\n        label: port\n      }));\n      this.setState({\n        ports: options\n      });\n    }, []);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      name: \"ports\" // value={val}\n      ,\n      options: this.state.ports,\n      className: \"basic-single\",\n      classNamePrefix: \"select\",\n      onChange: this.onChangeFunc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: () => this.getPorts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, \"Refresh\"));\n  }\n\n}\n\nexport default SelectPort;","map":{"version":3,"sources":["/Users/Nathan/Desktop/data-comm-ui/src/selectPort.js"],"names":["React","Select","Button","SelectPort","Component","constructor","props","onChangeFunc","selectedOption","setState","selected","value","console","log","fetch","method","headers","body","JSON","stringify","port","then","response","json","data","catch","error","state","ports","componentDidMount","res","options","forEach","push","label","getPorts","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB,C,CAEA;;AACA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAuCnBC,YAvCmB,GAuCJC,cAAc,IAAI;AAC/B,WAAKC,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAEF,cAAc,CAACG;AAA1B,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,cAAc,CAACG,KAA3B,EAF+B,CAG/B;AACA;AACA;AACA;;AACAG,MAAAA,KAAK,CAAC,iBAAD,EAAoB;AACvBC,QAAAA,MAAM,EAAE,MADe;AAEvBC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFc;AAKvBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,UAAAA,IAAI,EAAEZ,cAAc,CAACG;AAAtB,SAAf;AALiB,OAApB,CAAL,CAOCU,IAPD,CAOMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPlB,EAQCF,IARD,CAQMG,IAAI,IAAI;AACZZ,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBW,IAAxB;AACD,OAVD,EAWCC,KAXD,CAWQC,KAAD,IAAW;AAChBd,QAAAA,OAAO,CAACc,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,OAbD;AAcD,KA5DkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXlB,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAID;;AAEDmB,EAAAA,iBAAiB,GAAG;AAClBf,IAAAA,KAAK,CAAC,SAAD,CAAL,CAAiBO,IAAjB,CAAsBS,GAAG,IAAIA,GAAG,CAACP,IAAJ,EAA7B,EACEF,IADF,CACOG,IAAI,IAAI;AACX,UAAIO,OAAO,GAAG,EAAd;AACAP,MAAAA,IAAI,CAACI,KAAL,CAAWI,OAAX,CAAmBZ,IAAI,IAAIW,OAAO,CAACE,IAAR,CACzB;AACEtB,QAAAA,KAAK,EAAES,IADT;AAEEc,QAAAA,KAAK,EAAEd;AAFT,OADyB,CAA3B;AAMA,WAAKX,QAAL,CAAc;AAACmB,QAAAA,KAAK,EAAEG;AAAR,OAAd;AACD,KAVH,EAUK,EAVL;AAWD,GAtBsC,CAwBvC;AACA;;;AAEAI,EAAAA,QAAQ,GAAG;AACTrB,IAAAA,KAAK,CAAC,SAAD,CAAL,CAAiBO,IAAjB,CAAsBS,GAAG,IAAIA,GAAG,CAACP,IAAJ,EAA7B,EACEF,IADF,CACOG,IAAI,IAAI;AACX,UAAIO,OAAO,GAAG,EAAd;AACAP,MAAAA,IAAI,CAACI,KAAL,CAAWI,OAAX,CAAmBZ,IAAI,IAAIW,OAAO,CAACE,IAAR,CACzB;AACEtB,QAAAA,KAAK,EAAES,IADT;AAEEc,QAAAA,KAAK,EAAEd;AAFT,OADyB,CAA3B;AAMA,WAAKX,QAAL,CAAc;AAACmB,QAAAA,KAAK,EAAEG;AAAR,OAAd;AACD,KAVH,EAUK,EAVL;AAWD;;AAyBDK,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,OADP,CAEE;AAFF;AAGE,MAAA,OAAO,EAAE,KAAKT,KAAL,CAAWC,KAHtB;AAIE,MAAA,SAAS,EAAC,cAJZ;AAKE,MAAA,eAAe,EAAC,QALlB;AAME,MAAA,QAAQ,EAAE,KAAKrB,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eASE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,WADV;AAEE,MAAA,OAAO,EAAG,MAAM,KAAK4B,QAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,CADF;AAiBD;;AAlFsC;;AAqFzC,eAAehC,UAAf","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport Button from '@material-ui/core/Button';\n\n// displayed on SETTINGS PANE\nclass SelectPort extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ports: [],\n      selected: ''\n    }\n  };\n\n  componentDidMount() {\n    fetch('/ports/').then(res => res.json()).\n      then(data => {\n        var options = [];\n        data.ports.forEach(port => options.push(\n          {\n            value: port,\n            label: port\n          }\n        ));\n        this.setState({ports: options});\n      }, []);\n  }\n\n  // componentDidUpdate() {\n  // }\n\n  getPorts() {\n    fetch('/ports/').then(res => res.json()).\n      then(data => {\n        var options = [];\n        data.ports.forEach(port => options.push(\n          {\n            value: port,\n            label: port\n          }\n        ));\n        this.setState({ports: options});\n      }, []);\n  }\n\n  onChangeFunc = selectedOption => {\n    this.setState({selected: selectedOption.value});\n    console.log(selectedOption.value);\n    // TODO:\n    // add selected port to redux store\n    // port dropdown in toolbar\n    // POST selected port to Flask:\n    fetch('/selected-port/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({port: selectedOption.value}),\n    })\n    .then(response => response.json())\n    .then(data => {\n      console.log('Success:', data);\n    })\n    .catch((error) => {\n      console.error('Error:', error);\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Select\n          name=\"ports\"\n          // value={val}\n          options={this.state.ports}\n          className=\"basic-single\"\n          classNamePrefix=\"select\"\n          onChange={this.onChangeFunc}\n        />\n        <Button \n          variant=\"contained\" \n          onClick={(() => this.getPorts)}>\n            Refresh\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default SelectPort;"]},"metadata":{},"sourceType":"module"}